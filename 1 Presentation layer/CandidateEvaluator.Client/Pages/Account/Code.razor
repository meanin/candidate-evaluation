@page "/code"
@inject Services.UserIdentityService Http
@inject Microsoft.AspNetCore.Blazor.Services.WebAssemblyUriHelper UriHelper

@functions
{
    protected override async Task OnInitAsync()
    {
        try
        {
            await Http.Login();

            UriHelper.NavigateTo("/dashboard");
        }
        catch
        {
            // TODO: NotAuthorizedPage
            UriHelper.NavigateTo("/");
        }
    }
}
