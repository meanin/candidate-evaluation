@page "/interview/snippet/{id:guid}"
@using Microsoft.AspNetCore.Blazor.Services
@inject Services.UserIdentityService Http
@inject IUriHelper UriHelper
@if (_snippet == null)
{
    <div class="fa-3x">
        <i class="fas fa-spinner fa-pulse"></i>
    </div>
}
else
{
    <pre></pre>
}
@functions
{
    [Parameter]
    private Guid Id { get; set; }

    private string _snippet;

    protected override async Task OnInitAsync()
    {
        try
        {
            _snippet = await (await Http.AuthorizedGetAsync($"api/question/{Id}/snippet")).Content.ReadAsStringAsync();
        }
        catch
        {
            UriHelper.NavigateTo("/");
        }
    }
}